<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>The Page of graphs</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    
</head>
<body>
  <main class="container mt-4 border border-primary">
    <!-- Навигационная панель -->
    <div class="container">
      <header class="d-flex justify-content-center py-3">
        <ul class="nav nav-pills border border-primary" >
          <li class="nav-item"><a href="/index.html" class="nav-link " aria-current="page">Home</a></li>
          <li class="nav-item"><a href="/graph_algorithm/index.html" class="nav-link active">Graph</a></li>
          <li class="nav-item"><a href="/iterations_alghorithm/index.html" class="nav-link">Iterations algorithms</a></li>
          <li class="nav-item"><a href="#" class="nav-link">Othres</a></li>
        </ul>
      </header>
    </div>

    <div class="container my-5">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb p-3 bg-body-tertiary rounded-3">
            <li class="breadcrumb-item"><a href="/graph_algorithm/index.html">Graph</a></li>
          <li class="breadcrumb-item active"><a href="/graph_algorithm/BFS/index.html">BFS</a></li>
        </ol>
      </nav>
    </div>
    <!-- Основной контент -->
    <div class="container mt-4 ">
        <h1>Это страница с алгоритмом основанном на поиске в ширину, визуализация и постройка маршрута</h1>
        <p>--(что то там про графы) блалаллааллалл большой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текстбольшой текст </p>
        <p>большой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текстбольшой текст большой текстбольшой текстбольшой текстбольшой текст</p>
        
        
    </div>

    <h2>Введите матрицу</h2>
    <textarea id="matrixInput" rows="10" cols="10">0000000000
0000000000
0000000000
0000000000
0000000000
0000000000
0000000000
0000000000
0000000000
0000000000</textarea>
    <button class="btn btn-primary" onclick="sendMatrix()">Отправить на сервер</button>
      
    <div class="container">
      <h2>Введите матрицу:</h2>
    <table id="matrixTable" class="table">
        <!-- Тут будут ячейки матрицы -->
    </table>
    <button class="btn btn-primary" onclick="addRow()">Добавить строку</button>
    <button class="btn btn-primary" onclick="addColumn()">Добавить столбец</button>
    <button class="btn btn-primary" onclick="getMatrix()">Получить матрицу</button>

    <script>
      function createSelect() {
        // Создаем новый элемент select
        var select = document.createElement('select');
        // Добавляем опции от 1 до 5
        for (var i = 1; i <= 5; i++) {+
          var option = document.createElement('option');
          option.text = i;
          option.value = i;
          select.appendChild(option);
        }
        return select;
      }

      // Пример использования:
      var cell = document.getElementById('yourCellId');
      cell.appendChild(createSelect());
      function addRow() {
          const table = document.getElementById('matrixTable');
          const rowCount = table.rows.length;
          const cellCount = rowCount > 0 ? table.rows[0].cells.length : 0;
          const newRow = table.insertRow(rowCount);
          for (let i = 0; i < cellCount; i++) {
              const cell = newRow.insertCell(i);
              cell.appendChild(createSelect());
              //cell.innerHTML = '<input type="text">';
          }
      }

      function addColumn() {
          const table = document.getElementById('matrixTable');
          const rowCount = table.rows.length;
          const cellCount = rowCount > 0 ? table.rows[0].cells.length : 0;
          for (let i = 0; i < rowCount; i++) {
              const newRow = table.rows[i];
              const newCell = newRow.insertCell(cellCount);
              cell.appendChild(createSelect());
              //newCell.innerHTML = '<input type="text">';
          }
      }

      function getMatrix() {
          const table = document.getElementById('matrixTable');
          const matrix = [];
          for (let i = 0; i < table.rows.length; i++) {
              const row = [];
              for (let j = 0; j < table.rows[i].cells.length; j++) {
                  const cell = table.rows[i].cells[j].querySelector('input');
                  row.push(Number(cell.value));
              }
              matrix.push(row);
          }
          console.log(matrix); // Вы можете использовать этот массив для дальнейшей обработки
      }
  </script>
    </div>  

    <h2>Полученная матрица</h2>
    <div id="resultMatrix"></div>
  
    <script>
      async function sendMatrix() {
        const matrixInput = document.getElementById('matrixInput').value;
  
        // Отправка матрицы на сервер
        const response = await fetch('/graph_algorithm/BFS/process_matrix', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ matrix: matrixInput }),
        });
  
        // Получение ответа от сервера
        const result = await response.json();
  
        // Отображение полученной матрицы
        document.getElementById('resultMatrix').innerText = result.matrix;
      }
    </script>
    <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>

    <!-- Bootstrap JS (optional) -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  </main>
</body>
</html>
